{"version":3,"file":"main-kp0_s1hC.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * Project: hyperq-markz.fit\n * Role: AI Web Design Assistant\n * Description: Full logic including GSAP animations, form validation,\n * mobile menu, and cookie management.\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide)\n  // ---------------------------------------------------------\n  const initIcons = () => {\n      if (window.lucide) {\n          window.lucide.createIcons();\n      }\n  };\n  initIcons();\n\n  // 2. МОБИЛЬНОЕ МЕНЮ (Бургер и Оверлей)\n  // ---------------------------------------------------------\n  const burger = document.querySelector('.burger');\n  const mobileMenu = document.querySelector('.mobile-menu-overlay');\n  const mobileLinks = document.querySelectorAll('.mobile-nav a');\n\n  if (burger && mobileMenu) {\n      const toggleMenu = () => {\n          burger.classList.toggle('active');\n          mobileMenu.classList.toggle('active');\n          // Блокируем скролл основной страницы при открытом меню\n          document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n      };\n\n      burger.addEventListener('click', toggleMenu);\n\n      mobileLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              if (mobileMenu.classList.contains('active')) toggleMenu();\n          });\n      });\n  }\n\n  // 3. ЭФФЕКТЫ СКРОЛЛА (Header & Parallax)\n  // ---------------------------------------------------------\n  const header = document.querySelector('.header');\n\n  window.addEventListener('scroll', () => {\n      // Изменение высоты и фона хедера\n      if (window.scrollY > 50) {\n          header.style.padding = '12px 0';\n          header.style.background = 'rgba(10, 11, 13, 0.95)';\n          header.style.borderBottom = '1px solid rgba(212, 255, 0, 0.2)';\n      } else {\n          header.style.padding = '20px 0';\n          header.style.background = 'transparent';\n          header.style.borderBottom = '1px solid rgba(255, 255, 255, 0.05)';\n      }\n  });\n\n  // Плавный скролл по якорям\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n      anchor.addEventListener('click', function(e) {\n          const targetId = this.getAttribute('href');\n          if (targetId === '#') return;\n\n          const targetElement = document.querySelector(targetId);\n          if (targetElement) {\n              e.preventDefault();\n              targetElement.scrollIntoView({\n                  behavior: 'smooth'\n              });\n          }\n      });\n  });\n\n  // 4. GSAP АНИМАЦИЯ HERO (С исправлением видимости)\n  // ---------------------------------------------------------\n  if (document.querySelector('.hero')) {\n      // Устраняем проблему невидимости ( visibility: hidden в CSS )\n      gsap.set('.reveal-text', { visibility: 'visible' });\n\n      // Разбиваем текст на слова и строки для эффекта появления\n      const heroTitle = new SplitType('.hero__title', { types: 'words, chars' });\n      const heroSubtitle = new SplitType('.hero__subtitle', { types: 'lines' });\n\n      const tl = gsap.timeline({\n          defaults: { ease: 'power4.out' }\n      });\n\n      tl.from(heroTitle.chars, {\n          y: 40,\n          opacity: 0,\n          duration: 1,\n          stagger: 0.02,\n          delay: 0.3\n      })\n      .from(heroSubtitle.lines, {\n          y: 20,\n          opacity: 0,\n          duration: 0.8,\n          stagger: 0.1\n      }, \"-=0.6\")\n      .from('.hero__actions .btn', {\n          y: 30,\n          opacity: 0,\n          duration: 0.8,\n          stagger: 0.1,\n          clearProps: \"all\" // Важно: очищает инлайновые стили GSAP, чтобы работал Hover в CSS\n      }, \"-=0.6\")\n      .from('.hero__scroll-indicator', {\n          opacity: 0,\n          duration: 1\n      }, \"-=0.4\");\n\n      // Легкий параллакс для фонового изображения\n      gsap.to('.hero__bg-img', {\n          scrollTrigger: {\n              trigger: '.hero',\n              start: 'top top',\n              end: 'bottom top',\n              scrub: true\n          },\n          y: '15%'\n      });\n  }\n\n  // 5. КОНТАКТНАЯ ФОРМА (Валидация, Капча, AJAX)\n  // ---------------------------------------------------------\n  const contactForm = document.getElementById('contact-form');\n\n  if (contactForm) {\n      const phoneInput = document.getElementById('phone');\n      const captchaLabel = document.getElementById('captcha-label');\n      const captchaInput = document.getElementById('captcha-input');\n      const formStatus = document.getElementById('form-status');\n\n      // Генерация математической капчи\n      const n1 = Math.floor(Math.random() * 10) + 1;\n      const n2 = Math.floor(Math.random() * 5) + 1;\n      const correctAnswer = n1 + n2;\n\n      if (captchaLabel) {\n          captchaLabel.textContent = `Подтвердите, что вы не робот: ${n1} + ${n2} =`;\n      }\n\n      // Валидация телефона (запрет всего, кроме цифр)\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/[^0-9]/g, '');\n      });\n\n      // Обработка отправки формы\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          // Проверка капчи\n          if (parseInt(captchaInput.value) !== correctAnswer) {\n              showStatus('Ошибка: Неверный ответ на математический пример.', 'error');\n              return;\n          }\n\n          // Имитация отправки\n          const submitBtn = contactForm.querySelector('button');\n          const originalText = submitBtn.innerHTML;\n\n          submitBtn.disabled = true;\n          submitBtn.innerHTML = '<span>Обработка данных...</span>';\n\n          setTimeout(() => {\n              showStatus('Успешно! Мы получили ваш запрос и свяжемся с вами в ближайшее время.', 'success');\n              contactForm.reset();\n              submitBtn.disabled = false;\n              submitBtn.innerHTML = originalText;\n              initIcons(); // Перерисовываем иконку в кнопке\n          }, 1800);\n      });\n\n      function showStatus(msg, type) {\n          formStatus.textContent = msg;\n          formStatus.className = `form-status ${type}`;\n          formStatus.style.display = 'block';\n\n          setTimeout(() => {\n              formStatus.style.display = 'none';\n          }, 6000);\n      }\n  }\n\n  // 6. COOKIE POPUP (LocalStorage)\n  // ---------------------------------------------------------\n  const cookiePopup = document.getElementById('cookie-popup');\n  const acceptCookiesBtn = document.getElementById('accept-cookies');\n\n  if (cookiePopup && !localStorage.getItem('hyperq_cookies_accepted')) {\n      // Показываем через 3 секунды после загрузки\n      setTimeout(() => {\n          cookiePopup.classList.add('active');\n      }, 3000);\n  }\n\n  if (acceptCookiesBtn) {\n      acceptCookiesBtn.addEventListener('click', () => {\n          localStorage.setItem('hyperq_cookies_accepted', 'true');\n          cookiePopup.classList.remove('active');\n      });\n  }\n});"],"names":["initIcons","burger","mobileMenu","mobileLinks","toggleMenu","link","header","anchor","e","targetId","targetElement","heroTitle","heroSubtitle","contactForm","showStatus","msg","type","formStatus","phoneInput","captchaLabel","captchaInput","n1","n2","correctAnswer","submitBtn","originalText","cookiePopup","acceptCookiesBtn"],"mappings":"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"}